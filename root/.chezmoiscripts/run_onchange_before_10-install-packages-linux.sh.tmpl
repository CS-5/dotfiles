{{ if (eq .chezmoi.os "linux") -}}
{{ if (eq .chezmoi.osRelease.id "debian" "ubuntu") -}}
#!/bin/bash

set -eufo pipefail

repositories=()
aptPackages=(
  fish 
  fzf
  asciinema
  fd-find
  lsd
  httpie
  curl
  git
)
snaps=()
classic_snaps=()
tarBins=(
	"https://github.com/ynqa/jnv/releases/download/v{{ .versions.jnv }}/jnv-x86_64-unknown-linux-gnu.tar.xz"
)

for repository in ${repositories[@]}; do
	sudo add-apt-repository -y $repository
done

sudo apt update

sudo apt install -y ${packages[@]}

{{ if (eq .chezmoi.osRelease.id "ubuntu") }}
for snap in ${snaps[@]}; do
	sudo snap install $snap
done

for classic_snap in ${classic_snaps[@]}; do
	sudo snap install $classic_snap --classic
done
{{ end }}

for bin in ${tarBins[@]}; do
	curl -L $bin | sudo tar -xvf - -C ~/.local/bin
done

{{ end -}}
{{ end -}}